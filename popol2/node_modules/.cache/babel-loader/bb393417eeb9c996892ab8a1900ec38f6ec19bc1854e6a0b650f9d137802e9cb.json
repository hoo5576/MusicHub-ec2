{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/MusicHub-ec2/popol2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/user/Desktop/MusicHub-ec2/popol2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/Desktop/MusicHub-ec2/popol2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React from'react';import{CssBaseline,Box,Grid,Typography,CircularProgress}from'@mui/material';import{styled}from'@mui/system';import{NavLink}from'react-router-dom';import PlayArrowIcon from'@mui/icons-material/PlayArrow';import Footer from'./Footer';import axios from'axios';import{API_URL}from'../config/contansts';import useAsync from'../customHook/useAsync';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainContent=styled('div')({flexGrow:1,padding:20});var PlaylistItem=styled(Box)({// border: '1px solid #ccc',\npadding:'20px',borderRadius:'8px',margin:'10px',textAlign:'center',position:'relative','&:hover .play-icon':{opacity:1,cursor:'pointer',color:'red'},'&:hover img':{opacity:0.8,cursor:'pointer'}});var PlaylistImage=styled('img')({marginBottom:'10px',width:'100%',height:'12vw',transition:'opacity 0.3s ease'});var PlayIcon=styled(PlayArrowIcon)({position:'absolute',top:'40%',left:'50%',transform:'translate(-50%, -50%)',opacity:0,transition:'opacity 0.3s ease'});// //전체곡 조회함수\n// const getMusics = async () => {\n//   const res = await axios.get(`${API_URL}/api/musics/new`);\n//   console.log(\"res.data:\", res.data);\n//   return res.data;\n// };\nvar NewChart=function NewChart(props){//전체곡 조회함수\nvar getMusics=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(API_URL,\"/api/musics/new\"));case 2:res=_context.sent;console.log(\"res.data:\",res.data);return _context.abrupt(\"return\",res.data);case 5:case\"end\":return _context.stop();}},_callee);}));return function getMusics(){return _ref.apply(this,arguments);};}();var _useAsync=useAsync(getMusics,[]),_useAsync2=_slicedToArray(_useAsync,1),state=_useAsync2[0];var loading=state.loading,musics=state.data,error=state.error;//state구조분해\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'20px',color:'white',backgroundColor:'#000',height:'100vh',display:\"flex\",flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"\\uC7A0\\uC2DC\\uB9CC \\uAE30\\uB2E4\\uB824\\uC8FC\\uC138\\uC694...\"}),/*#__PURE__*/_jsx(CircularProgress,{style:{marginTop:'10px'}})]});}if(error)return/*#__PURE__*/_jsx(\"div\",{children:\"\\uC5D0\\uB7EC\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4.\"});if(!musics){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529\\uC911\\uC785\\uB2C8\\uB2E4.\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',background:'black'},children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(MainContent,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'white'},children:\"\\uCD5C\\uC2E0 \\uC74C\\uC545\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:musics.map(function(music){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsxs(PlaylistItem,{style:{color:'white'},children:[/*#__PURE__*/_jsx(PlaylistImage,{src:API_URL+'/api'+music.imageUrl,alt:music.name,onClick:function onClick(){props.onMusic(music);}}),/*#__PURE__*/_jsx(PlayIcon,{className:\"play-icon\",fontSize:\"large\",onClick:function onClick(){props.onMusic(music);}}),/*#__PURE__*/_jsxs(NavLink,{to:\"/login-main/detail\",state:{music:music},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:/*#__PURE__*/_jsx(\"span\",{style:{color:'white',fontWeight:\"550\",fontSize:'22px'},children:music.name})}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:/*#__PURE__*/_jsx(\"span\",{style:{color:'white'},children:music.singer})})]})]})},music.id);})}),/*#__PURE__*/_jsx(Footer,{})]})})]});};export default NewChart;","map":{"version":3,"names":["React","CssBaseline","Box","Grid","Typography","CircularProgress","styled","NavLink","PlayArrowIcon","Footer","axios","API_URL","useAsync","jsx","_jsx","jsxs","_jsxs","MainContent","flexGrow","padding","PlaylistItem","borderRadius","margin","textAlign","position","opacity","cursor","color","PlaylistImage","marginBottom","width","height","transition","PlayIcon","top","left","transform","NewChart","props","getMusics","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","concat","sent","console","log","data","abrupt","stop","apply","arguments","_useAsync","_useAsync2","_slicedToArray","state","loading","musics","error","style","backgroundColor","display","flexDirection","alignItems","justifyContent","children","variant","gutterBottom","marginTop","background","container","spacing","map","music","item","xs","sm","md","src","imageUrl","alt","name","onClick","onMusic","className","fontSize","to","fontWeight","singer","id"],"sources":["C:/Users/user/Desktop/MusicHub-ec2/popol2/src/routes/Newchart.js"],"sourcesContent":["import React from 'react';\r\nimport { CssBaseline, Box, Grid, Typography, CircularProgress } from '@mui/material';\r\nimport { styled } from '@mui/system';\r\nimport { NavLink } from 'react-router-dom';\r\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\r\nimport Footer from './Footer';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../config/contansts';\r\nimport useAsync from '../customHook/useAsync';\r\n\r\nconst MainContent = styled('div')({\r\n  flexGrow: 1,\r\n  padding: 20,\r\n});\r\n\r\nconst PlaylistItem = styled(Box)({\r\n  // border: '1px solid #ccc',\r\n  padding: '20px',\r\n  borderRadius: '8px',\r\n  margin: '10px',\r\n  textAlign: 'center',\r\n  position: 'relative',\r\n  '&:hover .play-icon': {\r\n    opacity: 1,\r\n    cursor: 'pointer',\r\n    color:'red',\r\n  },\r\n  '&:hover img': {\r\n    opacity: 0.8,\r\n    cursor: 'pointer',\r\n  },\r\n});\r\n\r\nconst PlaylistImage = styled('img')({\r\n  marginBottom: '10px',\r\n  width: '100%',\r\n  height:'12vw',\r\n  transition: 'opacity 0.3s ease',\r\n});\r\n\r\nconst PlayIcon = styled(PlayArrowIcon)({\r\n  position: 'absolute',\r\n  top: '40%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  opacity: 0,\r\n  transition: 'opacity 0.3s ease',\r\n});\r\n\r\n\r\n// //전체곡 조회함수\r\n// const getMusics = async () => {\r\n//   const res = await axios.get(`${API_URL}/api/musics/new`);\r\n//   console.log(\"res.data:\", res.data);\r\n//   return res.data;\r\n// };\r\n\r\nconst NewChart = (props) => {\r\n\r\n\r\n  //전체곡 조회함수\r\n  const getMusics = async () => {\r\n    const res = await axios.get(`${API_URL}/api/musics/new`);\r\n    console.log(\"res.data:\", res.data);\r\n    return res.data;\r\n  };\r\n\r\n  const [state] = useAsync(getMusics, []);\r\n  const { loading, data: musics, error } = state; //state구조분해\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '20px', color: 'white', backgroundColor: '#000', height: '100vh', display: \"flex\", flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n        <Typography variant=\"h5\" gutterBottom>\r\n          잠시만 기다려주세요...\r\n        </Typography>\r\n        <CircularProgress style={{ marginTop: '10px' }} />\r\n      </div>\r\n    )\r\n  }\r\n  if (error) return <div>에러가 발생했습니다.</div>;\r\n  if (!musics) {\r\n    return <div>로딩중입니다.</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ display: 'flex', background:'black'}}>\r\n      <CssBaseline />\r\n      <MainContent>\r\n        <div>\r\n          <h1 style={{color : 'white'}}>최신 음악</h1>\r\n          <Grid container spacing={2}>\r\n            {musics.map((music) => (\r\n              <Grid item xs={12} sm={6} md={2} key={music.id}>\r\n                <PlaylistItem style={{color : 'white'}}>\r\n                  <PlaylistImage src={API_URL+ '/api' +music.imageUrl} alt={music.name} onClick={() => {props.onMusic(music)}} />\r\n                  <PlayIcon className=\"play-icon\" fontSize=\"large\" onClick={() => {props.onMusic(music)}}/>\r\n                  <NavLink to='/login-main/detail' state={{music}}>\r\n                    <Typography variant=\"subtitle1\" gutterBottom><span style={{color:'white', fontWeight:\"550\", fontSize:'22px'}}>{music.name}</span></Typography>\r\n                    <Typography variant=\"body1\"><span style={{color:'white'}}>{music.singer}</span></Typography>\r\n                  </NavLink>\r\n                </PlaylistItem>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n          <Footer/>\r\n        </div>\r\n      </MainContent>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewChart;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}